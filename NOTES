20 July 2008

$ rails openfrbr

Used the notes here to put everything under git:

http://toolmantim.com/article/2007/12/5/setting_up_a_new_rails_app_with_git

$ cat .gitignore
log/*.log
tmp/**/*
.DS_Store
doc/api
doc/app
*~
$ touch log/.gitignore
$ touch tmp/.gitignore

$ ./script/generate scaffold work
$ ./script/generate scaffold expression
$ ./script/generate scaffold manifestation
$ ./script/generate scaffold item
$ ./script/generate scaffold person
$ ./script/generate scaffold family
$ ./script/generate scaffold corporate_body
$ ./script/generate scaffold concept
$ ./script/generate scaffold frbr_object (object is a reserved word)
$ ./script/generate scaffold event
$ ./script/generate scaffold place

$ git init
$ git add .
$ git commit -m "Initial checkin in; a bit of scaffolding"

On the Eee I ran

$ cd src
$ git clone buff@10.1.0.9:src/openfrbr 

and it copied everything over.

First database migration

$ ./script/generate migration create_works_table
      exists  db/migrate
      create  db/migrate/20080721001523_create_works_table.rb

I edited the file and added basic stuff to make the works table

class CreateWorksTable < ActiveRecord::Migration
  def self.up
    create_table :works do |table|
      table.column :title, :string
      table.column :form, :string
      table.column :date, :date
      table.column :comment, :string
  end

  def self.down
    drop_table :works
  end
end

$ rake db.migrate

There was a bunch of output about all the various tables.












